<div>
  <label for="id_title" class="block text-sm font-medium text-gray-700 mb-1">Title *</label>
  {{ form.title }}
</div>

<div>
  <label for="id_description" class="block text-sm font-medium text-gray-700 mb-1">Description *</label>
  <textarea name="description" id="id_description" rows="4" class="w-full border border-gray-300 rounded-md p-2 focus:ring-indigo-500 focus:border-indigo-500">{{ form.description.value }}</textarea>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 gap-5">
  <div>
    <label for="id_category" class="block text-sm font-medium text-gray-700 mb-1">Category *</label>
    {{ form.category }}
  </div>

  <div>
    <label for="id_price" class="block text-sm font-medium text-gray-700 mb-1">Price</label>
    {{ form.price }}
  </div>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 gap-5">
  <div>
    <label for="id_location" class="block text-sm font-medium text-gray-700 mb-1">Location*</label>
    {{ form.location }}
  </div>

  <div id="event-date-container" class="hidden">
    <label for="id_event_date" class="block text-sm font-medium text-gray-700 mb-1">Event Date</label>
    <input type="date" name="event_date" id="id_event_date" value="{{ form.event_date.value }}" class="w-full border border-gray-300 rounded-md p-2 focus:ring-indigo-500 focus:border-indigo-500" />
  </div>
</div>

<div>
  <label for="id_image" class="block text-sm font-medium text-gray-700 mb-1">Upload Image</label>
  {{ form.image }}
</div>

<div class="grid grid-cols-1 md:grid-cols-2 gap-5">
  <div>
    <label for="id_contact_email" class="block text-sm font-medium text-gray-700 mb-1">Email*</label>
    {{ form.contact_email }}
  </div>

  <div>
    <label for="id_contact_phone" class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
    {{ form.contact_phone }}
  </div>
</div>

<div class="flex items-center">
  {{ form.show_contact }}
  <label for="id_show_contact" class="ml-2 text-sm text-gray-700">Show my contact info publicly</label>
</div>

{% if form.instance.pk and form.instance.image %}
  <div class="mt-2">
    <p class="text-sm text-gray-500">Current Image:</p>
    <img src="{{ form.instance.image.url }}" alt="Current Image" class="h-40 object-cover rounded-md" />
  </div>
{% endif %}

<script>
document.addEventListener("DOMContentLoaded", function () {
const categorySelect = document.getElementById("id_category");
const eventDateContainer = document.getElementById("event-date-container");

if (!categorySelect || !eventDateContainer) {
    console.error("Required ad form elements not found for dynamic behavior.");
    return;
}

function toggleEventDate() {
    const selectedText = categorySelect.options[categorySelect.selectedIndex]?.text?.toLowerCase();
    const isEventCategory = selectedText === "event";
    eventDateContainer.classList.toggle("hidden", !isEventCategory);
}

toggleEventDate();
categorySelect.addEventListener("change", toggleEventDate);
});
</script>
